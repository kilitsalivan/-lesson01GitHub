(()=>{"use strict";const e=()=>{const e=document.querySelectorAll('[name="fio"]'),t=document.querySelectorAll('[name="tel"]'),o=e=>{e.addEventListener("input",(e=>{let t=e.target;"tel"===t.name?t.value=t.value.replace(/[^0-9+]/gi,""):"text"===t.type&&"fio"===t.name&&(t.value=t.value.replace(/[^а-яА-ЯЁё\.\,\;\:\!\?\-\(\)\ ]{2,}/,""))}))};e.forEach((e=>{o(e)})),t.forEach((e=>{o(e)})),e.forEach((e=>{e.addEventListener("blur",(()=>{var t,o;o=/[а-яё]{2,}/gi,(t=e).value.match(o)&&(t.value=t.value.replace(o,"")),(e=>{e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/\-+/g,"-");let t=new RegExp(e.value);/^[/ /-]/.test(t)&&(e.value=e.value.replace(/^[/ /-]/,"")),/[/ /-]$/.test(t)&&(e.value=e.value.replace(/[/ /-]$/,""))})(e),e.value=(e=>e.value.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "))(e)}))}))},t=e=>{const t=document.getElementById(e),o=document.createElement("div");o.style.cssText="font-size: 2rem; color: black;",t.addEventListener("submit",(l=>{l.preventDefault(),t.appendChild(o),o.textContent="Идет отправка...";const i=new FormData(t);s(Object.fromEntries(i)).then((t=>{if(200!==t.status)throw new Error("status network not 200");var s;o.textContent="Cпасибо! Мы скоро с вами свяжемся!",s=e,[...document.getElementById(s).elements].filter((e=>"button"!==e.tagName.toLowerCase()&&"submit"!==e.type)).forEach((e=>e.value="")),setTimeout((()=>{o.textContent="";let e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay ");e.style.display="none",t.style.display="none"}),3e3)})).catch((e=>{o.textContent="Что то пошло не так...",console.error(e),setTimeout((()=>{o.textContent="";let e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay ");e.style.display="none",t.style.display="none"}),3e3)}))}));const s=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay ");document.querySelector("body").addEventListener("click",(o=>{let s=o.target;s.closest("#call")||s.matches(".button-services")||s.closest(".fancyboxModal")?(e.style.display="block",t.style.display="block"):(s.closest(".modal-close")||s.closest(".modal-overlay "))&&(e.style.display="none",t.style.display="none")}))})(),(()=>{const e=document.querySelectorAll(".item"),t=document.querySelector(".top-slider"),o=document.querySelectorAll(".dot"),s=document.querySelector(".portfolio-dots");let l,i=0;for(let e=0;e<o.length;e++)o[e].remove();(()=>{for(let t=0;t<e.length;t++){let e=document.createElement("li");e.classList.add("dot"),s.appendChild(e)}s.children[0].classList.add("dot-active")})();const n=document.querySelectorAll(".dot"),r=(e,t,o)=>{"dot-active"===o?e[t].classList.remove(o):e[t].style.display=o},a=(e,t,o)=>{"dot-active"===o?e[t].classList.add(o):e[t].style.display=o},c=()=>{r(e,i,"none"),r(n,i,"dot-active"),i++,i>=e.length&&(i=0),a(e,i,"block"),a(n,i,"dot-active")};t.addEventListener("click",(t=>{t.preventDefault();let o=t.target;o.matches(".portfolio-dots .dot")&&(r(e,i,"none"),r(n,i,"dot-active"),o.matches(".dot")&&n.forEach(((e,t)=>{e===o&&(i=t)})),i>=e.length&&(i=0),i<0&&(i=e.length-1),a(e,i,"block"),a(n,i,"dot-active"))}));const d=(e=1500)=>{l=setInterval(c,e)};t.addEventListener("mouseover",(e=>{e.target.matches(".dot")&&clearInterval(l)})),t.addEventListener("mouseout",(e=>{e.target.matches(".dot")&&d()})),d()})(),e(),t("form1"),t("form2"),(()=>{let e=document.querySelector(".accordeon"),t=e.querySelectorAll(".title"),o=e.querySelectorAll(".element-content");e.addEventListener("click",(e=>{const s=e.target;s.classList.contains("title")&&t.forEach(((e,l)=>{e===s&&(e=>{for(let s=0;s<o.length;s++)e===s?(t[s].parentElement.classList.add("active"),o[s].style.display="block"):(t[s].parentElement.classList.remove("active"),o[s].style.display="none")})(l)}))}))})(),(()=>{const e=document.querySelector(".up"),t=document.querySelector(".services-section");e.style.display=" none",window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>=t.offsetTop?(e.classList.add("active"),e.style.display="block"):document.documentElement.scrollTop<t.offsetTop&&(e.classList.remove("active"),e.style.display=" none")})),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))})(),new class{constructor({main:e,wrap:t,next:o,prev:s,infinity:l=!1,slidesToShow:i=3,position:n=0}){this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.next=document.querySelector(o),this.prev=document.querySelector(s),this.slidesToShow=i,this.slides=document.querySelector(t).children,this.options={position:n,infinity:l,widthSlide:Math.floor(100/this.slidesToShow)}}init(){this.addGloClass(),this.addStyle(),this.controlSlider()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyle(){const e=document.createElement("style");e.id="sliderCarusel-style",e.textContent=`\n      .glo-slider{\n        overflow: hidden !important;\n      }\n      .glo-slider__wrap{\n        display: flex;\n        transition: transform 0.5s !important;\n        will-change: tranform !important;\n        \n      }\n      .glo-slider__item {\n        flex: 0 0 ${this.options.widthSlide}% !important;\n        margin: auto 0 !important;\n      }`,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}}({main:".services-elements",wrap:".services-carousel",next:".arrow-right",prev:".arrow-left",infinity:!0,slidesToShow:3}).init(),(()=>{const e=document.querySelectorAll('a[href*="#"]');for(let t of e)t.addEventListener("click",(e=>{e.preventDefault();const o=t.getAttribute("href");document.querySelector(""+o).scrollIntoView({behavior:"smooth",block:"start"})}))})()})();